{"version":3,"sources":["services/services.js","pages/MoviePage.js"],"names":["baseUrl","keyApi","getTrending","axios","get","then","data","results","console","log","searchMovies","value","getMovieDetails","id","getCasts","cast","getReviews","MoviePage","state","movies","getValue","e","setState","target","fetchMovies","services","handleSubmit","preventDefault","props","history","location","pathname","push","this","onSubmit","onChange","type","length","map","item","key","to","original_title","Component"],"mappings":"+KAEMA,EAAO,+BACPC,EAAM,mCAEG,KACPC,YADO,sHAGUC,IAChBC,IADgB,UACTJ,EADS,uCAC6BC,IAC7CI,MAAK,SAAAC,GAAI,OAAIA,EAAKA,KAAKC,YALjB,cAGHD,EAHG,yBAMFA,GANE,gCAQTE,QAAQC,IAAR,MARS,yDAYPC,aAZO,SAYMC,GAZN,qGAcIR,IAAMC,IAAN,UACRJ,EADQ,iCACwBC,EADxB,kBACwCU,KAf5C,wEAkBTH,QAAQC,IAAR,MAlBS,wDAsBPG,gBAtBO,SAsBSC,GAtBT,qGAwBIV,IAAMC,IAAN,UAAaJ,EAAb,kBAA8Ba,EAA9B,oBAA4CZ,KAxBhD,wEA0BTO,QAAQC,IAAR,MA1BS,wDA8BPK,SA9BO,SA8BED,GA9BF,2GAgCUV,IAChBC,IADgB,UACTJ,EADS,kBACQa,EADR,4BAC8BZ,IAC9CI,MAAK,SAAAC,GAAI,OAAIA,EAAKA,KAAKS,SAlCjB,cAgCHT,EAhCG,yBAmCFA,GAnCE,gCAqCTE,QAAQC,IAAR,MArCS,yDAyCPO,WAzCO,SAyCIH,GAzCJ,qGA2CIV,IAAMC,IAAN,UACRJ,EADQ,kBACSa,EADT,4BAC+BZ,EAD/B,4BA3CJ,wEA+CTO,QAAQC,IAAR,MA/CS,0D,0JCDMQ,E,2MACnBC,MAAQ,CACNC,OAAQ,GACRR,MAAO,I,EAGTS,SAAW,SAAAC,GACT,EAAKC,SAAS,CAAEX,MAAOU,EAAEE,OAAOZ,S,EAGlCa,YAAc,SAAAb,GACZc,IACGf,aAAaC,GACbN,MAAK,SAAAC,GAAI,OAAI,EAAKgB,SAAS,CAAEH,OAAQb,EAAKA,KAAKC,c,EAGpDmB,aAAe,SAAAL,GACbA,EAAEM,iBACuB,KAArB,EAAKT,MAAMP,QAGfH,QAAQC,IAAI,EAAKmB,MAAMC,QAAQC,SAASC,UACxC,EAAKH,MAAMC,QAAQG,KAAnB,iBAAkC,EAAKd,MAAMP,QAC7C,EAAKa,YAAY,EAAKN,MAAMP,OAC5B,EAAKW,SAAS,CAAEX,MAAO,O,wEAIf,IAAD,EACmBsB,KAAKf,MAAvBC,EADD,EACCA,OAAQR,EADT,EACSA,MAChB,OACE,6BACE,0BAAMuB,SAAUD,KAAKP,cACnB,2BAAOf,MAAOA,EAAOwB,SAAUF,KAAKb,SAAUgB,KAAK,WACnD,4BAAQA,KAAK,UAAb,WAEF,4BACqB,IAAlBjB,EAAOkB,OACN,oCACGlB,EAAOmB,KAAI,SAAAC,GAAI,OACd,wBAAIC,IAAKD,EAAK1B,IACZ,kBAAC,IAAD,CAAMA,GAAI0B,EAAK1B,GAAI4B,GAAE,kBAAaF,EAAK1B,KACpC0B,EAAKG,qBAMd,S,GAhD2BC","file":"static/js/6.bd21c0e5.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = `https://api.themoviedb.org/3`;\nconst keyApi = `7dbf79a7ec9fee0ed11175b6a2c600f3`;\n\nexport default {\n  async getTrending() {\n    try {\n      const data = await axios\n        .get(`${baseUrl}/trending/movie/day?api_key=${keyApi}`)\n        .then(data => data.data.results);\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async searchMovies(value) {\n    try {\n      return await axios.get(\n        `${baseUrl}/search/movie?api_key=${keyApi}&query=${value}`\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getMovieDetails(id) {\n    try {\n      return await axios.get(`${baseUrl}/movie/${id}?api_key=${keyApi}`);\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getCasts(id) {\n    try {\n      const data = await axios\n        .get(`${baseUrl}/movie/${id}/credits?api_key=${keyApi}`)\n        .then(data => data.data.cast);\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getReviews(id) {\n    try {\n      return await axios.get(\n        `${baseUrl}/movie/${id}/reviews?api_key=${keyApi}&language=en-US&page=1`\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n","import React, { Component } from \"react\";\nimport services from \"../services/services\";\nimport { Link } from \"react-router-dom\";\n\nexport default class MoviePage extends Component {\n  state = {\n    movies: [],\n    value: \"\"\n  };\n\n  getValue = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  fetchMovies = value => {\n    services\n      .searchMovies(value)\n      .then(data => this.setState({ movies: data.data.results }));\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.value === \"\") {\n      return;\n    }\n    console.log(this.props.history.location.pathname);\n    this.props.history.push(`?query=${this.state.value}`);\n    this.fetchMovies(this.state.value);\n    this.setState({ value: \"\" });\n  };\n\n  ////goBack не работает, строка без ?query=value,\n  render() {\n    const { movies, value } = this.state;\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input value={value} onChange={this.getValue} type=\"search\"></input>\n          <button type=\"submit\">Search</button>\n        </form>\n        <ul>\n          {movies.length !== 0 ? (\n            <>\n              {movies.map(item => (\n                <li key={item.id}>\n                  <Link id={item.id} to={`/movies/${item.id}`}>\n                    {item.original_title}\n                  </Link>\n                </li>\n              ))}\n            </>\n          ) : (\n            \"\"\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}