{"version":3,"sources":["services/services.js","components/movieDetailsPage/MovieDetailsPage.js"],"names":["baseUrl","keyApi","getTrending","axios","get","then","data","results","console","log","searchMovies","value","getMovieDetails","id","getCasts","cast","getReviews","Cast","lazy","Reviews","getIdFromProps","props","match","params","movieId","MovieDetailsPage","state","movie","reviews","componentDidMount","services","setState","handleCast","handleRewiews","handleGoBack","history","goBack","this","type","onClick","src","poster_path","alt","original_title","Math","round","popularity","overview","genres","map","item","key","name","to","path","fallback","color","height","width","timeout","render","Component"],"mappings":"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","file":"static/js/4.63fcc411.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = `https://api.themoviedb.org/3`;\nconst keyApi = `7dbf79a7ec9fee0ed11175b6a2c600f3`;\n\nexport default {\n  async getTrending() {\n    try {\n      const data = await axios\n        .get(`${baseUrl}/trending/movie/day?api_key=${keyApi}`)\n        .then(data => data.data.results);\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async searchMovies(value) {\n    try {\n      return await axios.get(\n        `${baseUrl}/search/movie?api_key=${keyApi}&query=${value}`\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getMovieDetails(id) {\n    try {\n      return await axios.get(`${baseUrl}/movie/${id}?api_key=${keyApi}`);\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getCasts(id) {\n    try {\n      const data = await axios\n        .get(`${baseUrl}/movie/${id}/credits?api_key=${keyApi}`)\n        .then(data => data.data.cast);\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getReviews(id) {\n    try {\n      return await axios.get(\n        `${baseUrl}/movie/${id}/reviews?api_key=${keyApi}&language=en-US&page=1`\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n","import React, { Component, Suspense, lazy } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport services from \"../../services/services\";\nimport Loader from \"react-loader-spinner\";\n\nconst Cast = lazy(() => import(\"./cast/Cast\"));\nconst Reviews = lazy(() => import(\"./reviews/Reviews\"));\n\nconst getIdFromProps = props => props.match.params.movieId;\n\nexport default class MovieDetailsPage extends Component {\n  state = {\n    movie: null,\n    cast: [],\n    reviews: []\n  };\n\n  componentDidMount = () => {\n    const id = getIdFromProps(this.props);\n    services\n      .getMovieDetails(id)\n      .then(data => this.setState({ movie: data.data, id: id }));\n  };\n\n  handleCast = () => {\n    services\n      .getCasts(this.state.id)\n      .then(data => this.setState({ cast: data }));\n  };\n\n  handleRewiews = () => {\n    services\n      .getReviews(this.state.id)\n      .then(data => this.setState({ reviews: data.data.results }));\n  };\n\n  handleGoBack = () => {\n    //this.props.history.push(\"/\");\n    this.props.history.goBack();\n  };\n\n  render() {\n    const { movie, cast, reviews } = this.state;\n    return (\n      <div>\n        {movie && (\n          <>\n            <button type=\"button\" onClick={this.handleGoBack}>\n              Go back\n            </button>\n            <img\n              src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`}\n              alt={movie.original_title}\n            />\n            <h2>{movie.original_title}</h2>\n\n            <p>Use score : {Math.round(movie.popularity)}%</p>\n            <h3>Overview</h3>\n            <p>{movie.overview}</p>\n            <h3>Genres</h3>\n            <ul>\n              {movie.genres !== 0 && (\n                <>\n                  {movie.genres.map(item => (\n                    <li key={item.id}>{item.name}</li>\n                  ))}\n                </>\n              )}\n            </ul>\n            <h3>Additional information</h3>\n            <ul>\n              <li>\n                <Link\n                  to={`${this.props.match.path}/cast`}\n                  onClick={this.handleCast}\n                >\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link\n                  to={`${this.props.match.path}/reviews`}\n                  onClick={this.handleRewiews}\n                >\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n            <Suspense\n              fallback={\n                <Loader\n                  type=\"Puff\"\n                  color=\"#00BFFF\"\n                  height={100}\n                  width={100}\n                  timeout={3000}\n                />\n              }\n            >\n              <Switch>\n                <Route\n                  path={`${this.props.match.path}/cast`}\n                  render={() => <Cast cast={cast} />}\n                />\n                <Route\n                  path={`${this.props.match.path}/reviews`}\n                  render={() => <Reviews reviews={reviews} />}\n                />\n              </Switch>\n            </Suspense>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}